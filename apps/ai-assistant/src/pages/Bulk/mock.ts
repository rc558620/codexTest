// src/mock.ts
import { LineSeries, InventoryRow, makeDates } from '@/components/types';

// src/mock/sadc.ts

/** ---- ECharts Series ç±»å‹ ---- */
export interface LinePoint {
  date: string;
  value: number;
}

/** ---- è¡¨æ ¼è¡Œç±»å‹ï¼ˆä¸ä½ çš„è¡¨æ ¼åˆ—åŒ¹é…ï¼‰ ---- */
export interface SaDcpRow {
  key: string;
  æ—¥æœŸ: string;
  ç¡«é…¸å‡ä»·: number;
  'äº‘å—ç¡«é“çŸ¿ï¼ˆé©°å®é”Œé”—ï¼‰å‡ºå‚ä»·': number;
  'ç£·é…¸æ°¢é’™17%': number;
}

/** ---- æ—¥æœŸ ---- */
export const SADC_DATES: string[] = [
  '2024/11/29',
  '2024/12/13',
  '2024/12/27',
  '2025/01/10',
  '2025/01/24',
  '2025/02/07',
  '2025/02/21',
  '2025/03/07',
  '2025/03/21',
  '2025/04/04',
  '2025/04/18',
  '2025/05/02',
  '2025/05/16',
  '2025/05/30',
  '2025/06/13',
  '2025/06/27',
  '2025/07/11',
];

const pts = (values: number[]) => values.map((v, i) => ({ date: SADC_DATES[i], value: v }));

/** ---- æŠ˜çº¿æ•°æ®ï¼ˆä¸å›¾ä¸€è‡´ï¼šè“=ç£·é…¸æ°¢é’™17%ï¼Œé»„=ç¡«é…¸å‡ä»·ï¼Œçº¢=ç¡«é“çŸ¿å‡ºå‚ä»·ï¼‰ ---- */
export const SADC_PRICE_SERIES: LineSeries[] = [
  {
    name: 'ç£·é…¸æ°¢é’™17%',
    points: pts([
      1700, 1650, 1200, 2000, 2300, 2100, 2600, 2200, 2250, 2350, 2400, 1300, 1200, 1150, 1400,
      1600, 1700,
    ]),
  },
  {
    name: 'ç¡«é…¸å‡ä»·',
    points: pts([
      2200, 2100, 1500, 1600, 1700, 1500, 1400, 1300, 1400, 1650, 1700, 1200, 1100, 1150, 1300,
      1500, 1600,
    ]),
  },
  {
    name: 'äº‘å—ç¡«é“çŸ¿ï¼ˆé©°å®é”Œé”—ï¼‰å‡ºå‚ä»·',
    points: pts([
      2700, 2900, 1800, 2100, 2300, 2200, 2400, 2100, 2200, 2300, 2500, 1700, 1800, 2100, 2300,
      2900, 3000,
    ]),
  },
];

/** ---- è¡¨æ ¼æ•°æ®ï¼ˆæœ€è¿‘ä¸¤æœŸï¼‰ ---- */
export const SADC_PRICE_TABLE: SaDcpRow[] = [
  {
    key: '2025/8/2',
    æ—¥æœŸ: '2025/8/2',
    ç¡«é…¸å‡ä»·: 1600,
    'äº‘å—ç¡«é“çŸ¿ï¼ˆé©°å®é”Œé”—ï¼‰å‡ºå‚ä»·': 3000,
    'ç£·é…¸æ°¢é’™17%': 1700,
  },
  {
    key: '2025/8/1',
    æ—¥æœŸ: '2025/8/1',
    ç¡«é…¸å‡ä»·: 1200,
    'äº‘å—ç¡«é“çŸ¿ï¼ˆé©°å®é”Œé”—ï¼‰å‡ºå‚ä»·': 2900,
    'ç£·é…¸æ°¢é’™17%': 1600,
  },
];

// äº‘è´µ 7 ä¸ªæ ·æœ¬ä»·æ ¼ï¼ˆå›¾ç”¨ & è¡¨æ ¼ç”¨ï¼‰
export const DATES_YG_7S = ['2025/8/1', '2025/8/2', '2025/8/3'];

const toPts7s = (vals: number[]) => DATES_YG_7S.map((d, i) => ({ date: d, value: vals[i] }));

export const SERIES_YG_7S = [
  {
    name: 'å¯Œæºé›„è¾¾ç…¤çŸ¿ï¼ˆQ3600ï¼‰',
    points: toPts7s([320, 300, 340, 310, 330, 350, 380, 360, 300, 280]),
  },
  {
    name: 'æ›²é–å›­ç”°ç…¤çŸ¿ï¼ˆQ4300ï¼‰',
    points: toPts7s([600, 620, 610, 650, 620, 640, 660, 670, 720, 680]),
  },
  // ä¸‹é¢ä¸¤æ¡åœ¨æœ€åä¸€æ—¥åšäº† +23 / +20ï¼Œç”¨æ¥ç»™è¡¨æ ¼â€œå‘¨å¯¹æ¯”â€
  {
    name: 'é•‡é›„æœ±å®¶æ¹¾ç…¤çŸ¿ï¼ˆQ3800ï¼‰',
    points: toPts7s([500, 520, 480, 485, 510, 520, 540, 560, 540, 560]),
  },
  {
    name: 'ç­ è¿é‡‘ä¹…ç…¤çŸ¿ï¼ˆQ4600ï¼‰',
    points: toPts7s([552, 575, 560, 545, 550, 570, 565, 560, 545, 568]),
  }, // +23
  {
    name: 'å…´ä¹‰è¿œç¨‹ç…¤çŸ¿ï¼ˆQ4000ï¼‰',
    points: toPts7s([440, 460, 430, 420, 430, 455, 445, 440, 420, 440]),
  }, // +20
  {
    name: 'ç»‡é‡‘å¤§é›ç…¤çŸ¿ï¼ˆQ4000ï¼‰',
    points: toPts7s([900, 880, 860, 910, 850, 930, 960, 920, 990, 910]),
  },
  {
    name: 'è´µå·å¤§æ–¹å‡¤å‡°å±±ç…¤çŸ¿ï¼ˆQ3800ï¼‰',
    points: toPts7s([880, 920, 900, 950, 930, 980, 1020, 990, 960, 940]),
  },
];

// è¡¨æ ¼åªå±•ç¤ºæœ€è¿‘ä¸¤å¤©
export const TABLE_YG_7S = (() => {
  const idxPrev = DATES_YG_7S.length - 2;
  const idxLast = DATES_YG_7S.length - 1;
  const by = Object.fromEntries(SERIES_YG_7S.map((s) => [s.name, s.points] as const));
  return [
    {
      key: DATES_YG_7S[idxPrev],
      æ—¥æœŸ: DATES_YG_7S[idxPrev],
      å¯Œæºé›„è¾¾ç…¤çŸ¿: by['å¯Œæºé›„è¾¾ç…¤çŸ¿ï¼ˆQ3600ï¼‰'][idxPrev].value,
      æ›²é–å›­ç”°ç…¤çŸ¿: by['æ›²é–å›­ç”°ç…¤çŸ¿ï¼ˆQ4300ï¼‰'][idxPrev].value,
      é•‡é›„æœ±å®¶æ¹¾ç…¤çŸ¿: by['é•‡é›„æœ±å®¶æ¹¾ç…¤çŸ¿ï¼ˆQ3800ï¼‰'][idxPrev].value,
      ç­ è¿é‡‘ä¹…ç…¤çŸ¿: by['ç­ è¿é‡‘ä¹…ç…¤çŸ¿ï¼ˆQ4600ï¼‰'][idxPrev].value,
      å…´ä¹‰è¿œç¨‹ç…¤çŸ¿: by['å…´ä¹‰è¿œç¨‹ç…¤çŸ¿ï¼ˆQ4000ï¼‰'][idxPrev].value,
      ç»‡é‡‘å¤§é›ç…¤çŸ¿: by['ç»‡é‡‘å¤§é›ç…¤çŸ¿ï¼ˆQ4000ï¼‰'][idxPrev].value,
      å¤§æ–¹å‡¤å‡°å±±ç…¤çŸ¿: by['è´µå·å¤§æ–¹å‡¤å‡°å±±ç…¤çŸ¿ï¼ˆQ3800ï¼‰'][idxPrev].value,
    },
    {
      key: DATES_YG_7S[idxLast],
      æ—¥æœŸ: DATES_YG_7S[idxLast],
      å¯Œæºé›„è¾¾ç…¤çŸ¿: by['å¯Œæºé›„è¾¾ç…¤çŸ¿ï¼ˆQ3600ï¼‰'][idxLast].value,
      æ›²é–å›­ç”°ç…¤çŸ¿: by['æ›²é–å›­ç”°ç…¤çŸ¿ï¼ˆQ4300ï¼‰'][idxLast].value,
      é•‡é›„æœ±å®¶æ¹¾ç…¤çŸ¿: by['é•‡é›„æœ±å®¶æ¹¾ç…¤çŸ¿ï¼ˆQ3800ï¼‰'][idxLast].value,
      ç­ è¿é‡‘ä¹…ç…¤çŸ¿: by['ç­ è¿é‡‘ä¹…ç…¤çŸ¿ï¼ˆQ4600ï¼‰'][idxLast].value,
      å…´ä¹‰è¿œç¨‹ç…¤çŸ¿: by['å…´ä¹‰è¿œç¨‹ç…¤çŸ¿ï¼ˆQ4000ï¼‰'][idxLast].value,
      ç»‡é‡‘å¤§é›ç…¤çŸ¿: by['ç»‡é‡‘å¤§é›ç…¤çŸ¿ï¼ˆQ4000ï¼‰'][idxLast].value,
      å¤§æ–¹å‡¤å‡°å±±ç…¤çŸ¿: by['è´µå·å¤§æ–¹å‡¤å‡°å±±ç…¤çŸ¿ï¼ˆQ3800ï¼‰'][idxLast].value,
    },
  ];
})();

// mock é‡Œæ–°å¢
export const DATES_PLATE_YG = ['2024/11/03', '2024/11/29', '2024/12/27'];

// å°å¸®æ‰‹
const toPts = (vals: number[]) =>
  DATES_PLATE_YG.map((d, i) => ({ date: d, value: vals[i] ?? vals[vals.length - 1] }));

// 5 æ¡æ›²çº¿ï¼ˆæœ«ä¸¤å¤©ç”¨äºâ€œå‘¨å¯¹æ¯”â€ï¼‰
export const PRICE_SERIES_PLATE_YG = [
  {
    name: 'é•‡é›„æ— çƒŸç…¤Q3600',
    points: toPts([560, 520, 490, 520, 900, 470, 480, 520, 540, 520, 450, 450]),
  },
  {
    name: 'ç»‡é‡‘å¤§é›ç…¤çŸ¿æ— çƒŸç…¤Q4000',
    // æœ€åä¸¤å¤© 450 â†’ 442ï¼ˆå‘¨å¯¹æ¯” -8ï¼‰
    points: toPts([730, 710, 680, 650, 640, 620, 630, 660, 720, 700, 450, 442]),
  },
  {
    name: 'å¯Œæºæ— çƒŸç…¤Q5200',
    points: toPts([620, 600, 580, 560, 540, 520, 540, 560, 660, 640, 624, 624]),
  },
  {
    name: 'å…­ç›˜æ°´å°æ²³è¾¹ç…¤çŸ¿æ— çƒŸç…¤Q6000',
    points: toPts([540, 510, 500, 490, 480, 500, 520, 560, 640, 600, 840, 840]),
  },
  {
    name: 'å®£å¨çƒŸç…¤Q4800',
    points: toPts([780, 620, 560, 520, 500, 520, 600, 700, 900, 860, 720, 720]),
  },
];

/** äº‘å—åŠå¹¿è¥¿ 98% ç¡«é…¸ä»·æ ¼ï¼šx è½´æ—¥æœŸ */
export const DATES_H2SO4_YNGX: string[] = (() => {
  // ç”Ÿæˆ 36 å‘¨ï¼ˆè¦†ç›– 2024/11/29 ~ 2025/8/8ï¼‰
  const start = new Date('2024-11-29');
  const arr: string[] = [];
  for (let i = 0; i < 36; i += 1) {
    const d = new Date(start.getTime() + i * 7 * 24 * 3600 * 1000);
    arr.push(`${d.getFullYear()}/${d.getMonth() + 1}/${d.getDate()}`);
  }
  return arr;
})();

/** äº”æ¡æ›²çº¿ï¼ˆä¸ legend ä¸€ä¸€å¯¹åº”ï¼‰ */
export const PRICE_SERIES_H2SO4_YNGX: LineSeries[] = [
  'å¹¿è¥¿å—å›½é“œä¸š çœå†…åˆ°å‚ä»·',
  'äº‘å—é“œä¸š',
  'äº‘é”¡é“œä¸š',
  'æ›²é–é©°å®é”Œé”—',
  'äº‘å—å‡ä»·',
].map((name) => ({
  name,
  points: DATES_H2SO4_YNGX.map((date, i) => {
    // é€ å‹ä¸æˆªå›¾ç›¸ä¼¼çš„æ³¢åŠ¨ï¼ˆä»…å ä½ï¼Œæ¥å…¥çœŸå®æ•°æ®æ—¶æ›¿æ¢ï¼‰
    let baseValue: number;

    if (name === 'å¹¿è¥¿å—å›½é“œä¸š çœå†…åˆ°å‚ä»·') {
      baseValue = 1200 + Math.sin(i / 2.3) * 300;
    } else if (name === 'äº‘å—é“œä¸š') {
      baseValue = 1500 + Math.sin(i / 2.6 + 0.6) * 350;
    } else if (name === 'äº‘é”¡é“œä¸š') {
      baseValue = 1850 + Math.sin(i / 2.7 + 0.9) * 420;
    } else if (name === 'æ›²é–é©°å®é”Œé”—') {
      baseValue = 2100 + Math.sin(i / 2.5 + 0.4) * 380;
    } else {
      baseValue = 1100 + Math.sin(i / 2.2 + 0.2) * 320;
    }

    // 7 æœˆé™„è¿‘åˆ¶é€ ä¸€ä¸ªå°–å³°
    const peakAdjustment = i % 8 === 22 ? 1200 : 0;

    return {
      date,
      value: baseValue + peakAdjustment,
    };
  }),
}));

/** è¡¨æ ¼ä¸¤è¡Œ */
export const TABLE_ROWS_H2SO4_YNGX = [
  { key: 'prev', æ—¥æœŸ: '2025/8/1', å¹¿è¥¿å—å›½: 805, äº‘å—é“œä¸š: 750, äº‘é”¡é“œä¸š: 660, æ›²é–é©°å®é”Œé”—: 685 },
  { key: 'last', æ—¥æœŸ: '2025/8/8', å¹¿è¥¿å—å›½: 785, äº‘å—é“œä¸š: 720, äº‘é”¡é“œä¸š: 630, æ›²é–é©°å®é”Œé”—: 655 },
];

// âœ… é…¸ä¼å‘¨äº§é‡ä¸“ç”¨æ—¥æœŸï¼ˆé¿å…å’Œå·²æœ‰çš„ DATES_SALES_SW å†²çªï¼‰
export const DATES_ACID: string[] = makeDates(1, 12);

// âœ… å †å å›¾æ•°æ®ï¼ˆå•ä½ï¼šä¸‡å¨ï¼‰â€”â€”å ä½æ•°å€¼ï¼Œæ¥å…¥çœŸå®æ•°æ®æ—¶æ›¿æ¢
export const SALES_STACK_ACID = [
  {
    name: 'å¨é¾™åŒ–å·¥',
    values: DATES_ACID.map((_, i) => +(0.4 + Math.abs(Math.sin(i / 3)) * 1.2).toFixed(3)),
  },
  {
    name: 'è¥¿å—é“œä¸šå‘¨äº§é‡',
    values: DATES_ACID.map((_, i) => +(1.6 + Math.abs(Math.cos(i / 5)) * 0.9).toFixed(3)),
  },
  {
    name: 'æ˜“é—¨é“œä¸š',
    values: DATES_ACID.map((_, i) => +(0.2 + Math.abs(Math.sin(i / 4 + 0.8)) * 0.7).toFixed(3)),
  },
  {
    name: 'äº‘é”¡é“œä¸š',
    values: DATES_ACID.map((_, i) => +(0.5 + Math.abs(Math.cos(i / 4 + 0.2)) * 0.5).toFixed(3)),
  },
  {
    name: 'ä¸ªæ—§åˆ›æº',
    values: DATES_ACID.map((_, i) => +(0.25 + Math.abs(Math.sin(i / 6 + 0.4)) * 0.35).toFixed(3)),
  },
  {
    name: 'è§£åŒ–åŒ–å·¥',
    values: DATES_ACID.map((_, i) => +(0.01 + Math.abs(Math.sin(i / 7)) * 0.03).toFixed(3)),
  },
  {
    name: 'æ–‡å±±é”Œé“Ÿ',
    values: DATES_ACID.map((_, i) => +(0.6 + Math.abs(Math.cos(i / 8)) * 0.2).toFixed(3)),
  },
];

// âœ… è¡¨æ ¼ä¸¤è¡Œï¼ˆæŒ‰æˆªå›¾ï¼‰
export const SALES_TABLE_ACID = [
  {
    key: 'prev',
    æ—¥æœŸ: '2025/8/1',
    è¥¿å—é“œä¸šå‘¨äº§é‡: 2.31,
    æ˜“é—¨é“œä¸š: 0.6,
    å¨é¾™åŒ–å·¥: 0.875,
    äº‘é”¡é“œä¸š: 0.84,
    ä¸ªæ—§åˆ›æº: 0.84,
    è§£åŒ–åŒ–å·¥: 0.028,
    æ–‡å±±é”Œé“Ÿ: 0.77,
  },
  {
    key: 'last',
    æ—¥æœŸ: '2025/8/1',
    è¥¿å—é“œä¸šå‘¨äº§é‡: 2.31,
    æ˜“é—¨é“œä¸š: 0.72,
    å¨é¾™åŒ–å·¥: 1.465,
    äº‘é”¡é“œä¸š: 0.84,
    ä¸ªæ—§åˆ›æº: 0.84,
    è§£åŒ–åŒ–å·¥: 0.028,
    æ–‡å±±é”Œé“Ÿ: 0.77,
  },
];

// ç”Ÿæˆä» 2024-02-29 èµ·ï¼ŒæŒ‰ 14 å¤©æ­¥é•¿çš„æ—¶é—´è½´ï¼ˆä¸æˆªå›¾è·¨åº¦æ¥è¿‘ï¼‰
const genDates = (start: string, n: number, stepDays = 14) => {
  const s = new Date(start).getTime();
  const one = 24 * 3600 * 1000;
  return Array.from({ length: n }, (_, i) => {
    const d = new Date(s + i * stepDays * one);
    const y = d.getFullYear();
    const m = d.getMonth() + 1;
    const day = d.getDate();
    return `${y}/${m}/${day}`;
  });
};

// ä¸å›¾ç›¸è¿‘çš„è·¨åº¦ï¼ˆçº¦ 24~26 ä¸ªç‚¹ï¼‰
export const DATES_SULFUR: string[] = genDates('2024-02-29', 26);

// 3 æ¡æ›²çº¿ï¼šåç§°æŒ‰ legend æ˜¾ç¤ºå†™æ­»
export const PRICE_SERIES_SULFUR: LineSeries[] = [
  'é•‡æ±Ÿæ¸¯å›ºä½“ç°è´§ä»·ï¼ˆå·¦è½´ï¼‰',
  'CFRä¸­å›½ç°è´§é«˜ç«¯ä»·ï¼ˆå³è½´ï¼‰ï¼Œ$/å¨',
  'ç¡«ç£ºæ¸¯å£åº“å­˜æ€»é‡ï¼ˆå³è½´ï¼‰ï¼Œä¸‡å¨',
].map((name) => ({
  name,
  points: DATES_SULFUR.map((date, i) => {
    // åšå‡ºä¸æˆªå›¾ç›¸ä¼¼çš„èµ°åŠ¿ï¼ˆå ä½ç”¨ï¼‰
    if (name.includes('é•‡æ±Ÿæ¸¯')) {
      // äººæ°‘å¸ä»·ï¼š1200~3000 æ³¢åŠ¨
      const v = 2100 + Math.sin(i / 2.8) * 400 + Math.cos(i / 5) * 180 + (i > 16 ? -250 : 0);
      return { date, value: Math.round(v) };
    }
    if (name.includes('CFRä¸­å›½')) {
      // ç¾å…ƒä»·ï¼š150~320 æ³¢åŠ¨
      const v = 230 + Math.sin(i / 3.1) * 60 + Math.cos(i / 5.5) * 25 + (i > 16 ? -20 : 0);
      return { date, value: Math.round(v) };
    }
    // æ¸¯å£åº“å­˜ï¼š50~180 ä¸‡å¨ï¼Œä¸”åœ¨ 8~12 å¤„å‡ºç°ä¸€æ®µæŠ¬å‡
    const v = 110 + Math.sin(i / 3.2) * 40 + Math.max(0, 80 - Math.abs(i - 10) * 10);
    return { date, value: Math.max(40, Math.round(v)) };
  }),
}));

// è¡¨æ ¼ä¸¤è¡Œï¼ˆä¸æˆªå›¾å­—æ®µ/é¡ºåºä¸€è‡´ï¼‰
export const TABLE_ROWS_SULFUR = [
  {
    key: 'prev',
    æ—¥æœŸ: '2025/8/1',
    æ¸¯å£åº“å­˜: 247.1, // âœ… è¿™æ ·ä¸ä¸‹ä¸€è¡Œ 246.55 ç›¸å·® 0.55
    CFRä¸­å›½ç°è´§é«˜ç«¯ä»·_$: 284,
    é•‡æ±Ÿæ¸¯å›ºä½“ç°è´§ä»·: 2430,
  },
  {
    key: 'last',
    æ—¥æœŸ: '2025/8/2',
    æ¸¯å£åº“å­˜: 246.55,
    CFRä¸­å›½ç°è´§é«˜ç«¯ä»·_$: 281,
    é•‡æ±Ÿæ¸¯å›ºä½“ç°è´§ä»·: 2370,
  },
];

/** ä¸å›¾åº•éƒ¨åˆ»åº¦ä¸€è‡´ï¼šä» 2024/11/29 èµ·æ¯å‘¨ä¸€ä¸ªç‚¹ï¼Œå…± 36 å‘¨ */
export const DATES_SA_DCP: string[] = (() => {
  const start = new Date('2024-11-29');
  const arr: string[] = [];
  for (let i = 0; i < 36; i += 1) {
    const d = new Date(+start + i * 7 * 24 * 3600 * 1000);
    arr.push(`${d.getFullYear()}/${d.getMonth() + 1}/${d.getDate()}`);
  }
  return arr;
})();

/**
 * æŠ˜çº¿ä¸¤æ¡ï¼š
 * - ç£·é…¸æ°¢é’™å¸‚åœºå‡ä»·ï¼ˆè“ï¼‰ï¼šå¤§è‡´ 900~1600 åŒºé—´ï¼Œæ³¢åŠ¨è¾ƒå°
 * - å…¨å›½98%ç¡«é…¸å‡ä»·ï¼ˆå«èŠ‚å‡æ—¥ï¼‰ï¼ˆé»„ï¼‰ï¼šå¤§è‡´ 2100~3100ï¼Œæ³¢åŠ¨ç¨å¤§ï¼Œ7æœˆé™„è¿‘æœ‰ä¸€æ³¢å°å³°å€¼
 */
export const PRICE_SERIES_SA_DCP: LineSeries[] = [
  {
    name: 'ç£·é…¸æ°¢é’™å¸‚åœºå‡ä»·',
    points: DATES_SA_DCP.map((date, i) => {
      // å¹³æ»‘è½»æ³¢åŠ¨ï¼Œæ•´ä½“ 1000~1600 å·¦å³
      const v = 1200 + Math.sin(i / 3) * 180 + Math.cos(i / 7) * 90 + (i > 25 && i < 30 ? 80 : 0); // 7 æœˆå‰åç•¥æŠ¬å‡
      return { date, value: Math.round(v) };
    }),
  },
  {
    name: 'å…¨å›½98%ç¡«é…¸å‡ä»·ï¼ˆå«èŠ‚å‡æ—¥ï¼‰',
    points: DATES_SA_DCP.map((date, i) => {
      // æ³¢åŠ¨æ›´å¤§ï¼Œæ•´ä½“ 2200~3100ï¼Œ7 æœˆé™„è¿‘ç•¥æœ‰å³°å€¼
      const v =
        2600 + Math.sin(i / 2.8) * 320 + Math.cos(i / 6) * 150 + (i > 24 && i < 30 ? 220 : 0); // 7 æœˆé™„è¿‘å°å³°
      return { date, value: Math.round(v) };
    }),
  },
];

/** è¡¨æ ¼ä¸¤è¡Œï¼ˆä¸æˆªå›¾ä¸€è‡´ï¼‰ */
export const PRICE_TABLE_SA_DCP = [
  { key: 'row-1', æ—¥æœŸ: '2025/8/1', 'å…¨å›½98%ç¡«é…¸å‡ä»·': 646, ç£·é…¸æ°¢é’™å‡ä»·: 3054 },
  { key: 'row-2', æ—¥æœŸ: '2025/8/2', 'å…¨å›½98%ç¡«é…¸å‡ä»·': 635, ç£·é…¸æ°¢é’™å‡ä»·: 3054 },
];

export const DATES: string[] = makeDates(1, 3);
/** ä¸æˆªå›¾æ¥è¿‘çš„ç±»ç›®è½´ï¼ˆç¨€ç–çš„æ—¶é—´ç‚¹ï¼‰ */
export const DATES_SALES_SW: string[] = [
  '2024/2/29',
  '2024/3/27',
  '2024/4/1',
  '2024/5/21',
  '2024/6/12',
  '2024/7/11',
  '2024/8/6',
  '2024/9/11',
  '2024/10/12',
  '2024/11/29',
];

/** å †å æŸ±ï¼šå„å‚å®¶å¤–é”€é‡ï¼ˆå¨/å¤©ï¼‰ã€‚è¿™é‡Œç”¨å‡½æ•°é€ å‹ï¼Œæ¥æ•°æ®æ—¶æ›¿æ¢ä¸ºçœŸå®å€¼å³å¯ã€‚ */
const wave = (i: number, a: number, b: number, c = 0) =>
  Math.max(0, a + Math.sin(i / 1.8) * b + Math.cos(i / 2.6) * (b * 0.4) + c);

export const SALES_STACK_SW = [
  {
    name: 'äº‘å—è§£åŒ–',
    values: DATES_SALES_SW.map((_, i) => Math.round(wave(i, 420, 180, i % 5 === 0 ? 120 : 0))),
  },
  {
    name: 'å››å·æ³¸å¤©åŒ–',
    values: DATES_SALES_SW.map((_, i) => Math.round(wave(i, 520, 160, 60))),
  },
  {
    name: 'å¹¿å®‰ç–æº',
    values: DATES_SALES_SW.map((_, i) => Math.round(wave(i, 950, 180, 220))), // ä¸»ä½“ç°å—
  },
  {
    name: 'é‡åº†å»ºå³°',
    values: DATES_SALES_SW.map((_, i) => Math.round(wave(i, 260, 60, 40))),
  },
  {
    name: 'äº‘å—è¶Šèš',
    values: DATES_SALES_SW.map((_, i) => Math.round(wave(i, 120, 40, 30))), // é¡¶éƒ¨å°é’å—
  },
];

/** è¡¨æ ¼ä¸¤è¡Œï¼ˆä¸æˆªå›¾ä¸€è‡´ï¼‰ */
export const SALES_TABLE_SW = [
  {
    key: 'prev',
    æ—¥æœŸ: '2025/8/1',
    äº‘å—è§£åŒ–: 500,
    å››å·æ³¸å¤©åŒ–: 300,
    å¹¿å®‰ç–æº: 450,
    é‡åº†å»ºå³°: 100,
    äº‘å—è¶Šèš: 100,
  },
  {
    key: 'last',
    æ—¥æœŸ: '2025/8/1',
    äº‘å—è§£åŒ–: 214,
    å››å·æ³¸å¤©åŒ–: 300,
    å¹¿å®‰ç–æº: 450,
    é‡åº†å»ºå³°: 100,
    äº‘å—è¶Šèš: 100,
  },
];
/** äº”æ¡æ›²çº¿ï¼šäº‘å—è§£åŒ– / äº‘å—è¶Šèš / å››å·æ³¸å¤©åŒ– / å››å·å¹¿å®‰ç–æº / é‡åº†å»ºå³° */
export const PRICE_SERIES_NH3_SW: LineSeries[] = [
  'äº‘å—è§£åŒ–',
  'äº‘å—è¶Šèš',
  'å››å·æ³¸å¤©åŒ–',
  'å››å·å¹¿å®‰ç–æº',
  'é‡åº†å»ºå³°',
].map((name, idx) => ({
  name,
  points: DATES.map((d, i) => ({
    date: d,
    // ç®€å•æ³¢åŠ¨ï¼šæ¥å…¥çœŸå®æ•°æ®æ—¶æ›¿æ¢
    value: 1200 + idx * 250 + Math.sin(i / 1.25 + idx) * 180 + (i % 3) * 60 + (idx === 0 ? 400 : 0),
  })),
}));

/** è¡¨æ ¼ä¸¤è¡Œ + å‘¨å¯¹æ¯”ï¼ˆä¸æˆªå›¾æ•°å€¼ä¸€è‡´ï¼›å‘¨å¯¹æ¯”æŒ‰ â€œä¸Šä¸€è¡Œ - ä¸‹ä¸€è¡Œâ€ è®¡ç®—ï¼‰ */
export const TABLE_ROWS_NH3_SW = [
  {
    key: 'prev',
    æ—¥æœŸ: '2025/8/1',
    äº‘å—è§£åŒ–: 2750,
    äº‘å—è¶Šèš: 2800,
    å››å·æ³¸å¤©åŒ–: 2450,
    å››å·å¹¿å®‰ç–æº: 2470,
    é‡åº†å»ºå³°: 2600,
  },
  {
    key: 'last',
    æ—¥æœŸ: '2025/8/8',
    äº‘å—è§£åŒ–: 2850, // â†‘åˆ° 2850 -> å‘¨å¯¹æ¯”æ˜¾ç¤º â†“100ï¼ˆæŒ‰ prev - last é€»è¾‘ï¼‰
    äº‘å—è¶Šèš: 2800, // ä¸å˜
    å››å·æ³¸å¤©åŒ–: 2450, // ä¸å˜
    å››å·å¹¿å®‰ç–æº: 2430, // â†‘40ï¼ˆæŒ‰ prev - last é€»è¾‘ï¼‰
    é‡åº†å»ºå³°: 2560, // â†‘40ï¼ˆä¸æˆªå›¾åŒ¹é…ï¼‰
  },
];
/** ============ æ–°å¢ï¼šå•†å“æ°¨é‡/å°¿ç´ å‘¨äº§é‡ï¼ˆæŠ˜çº¿å›¾ï¼‰ ============ */
/** ç”Ÿæˆä» 2024/11/29 å¼€å§‹ï¼ŒæŒ‰å‘¨é€’å¢çš„æ—¥æœŸæ ‡ç­¾ï¼ˆä¸å›¾åº•éƒ¨æ—¶é—´åˆ»åº¦é£æ ¼ä¸€è‡´ï¼‰ */
const fmtDate = (d: Date) => `${d.getFullYear()}/${d.getMonth() + 1}/${d.getDate()}`;
export const DATES_OUTPUT: string[] = (() => {
  const start = new Date('2024-11-29');
  const arr: string[] = [];
  // è¿™é‡Œç»™å‡º 36 å‘¨ï¼ŒåŸºæœ¬è¦†ç›–å›¾ä¸­ 2024/11/29 ~ 2025/8/8 çš„è·¨åº¦
  for (let i = 0; i < 36; i += 1) {
    const d = new Date(+start + i * 7 * 24 * 3600 * 1000);
    arr.push(fmtDate(d));
  }
  return arr;
})();

/** æŠ˜çº¿å›¾ä¸¤æ¡æ›²çº¿ï¼šå•†å“æ°¨é‡ï¼ˆå·¦è½´ï¼Œ~26~31ï¼‰/ å°¿ç´ å‘¨äº§é‡ï¼ˆå³è½´ï¼Œ~130~145ï¼‰ */
export const PRICE_SERIES_OUTPUT: LineSeries[] = [
  {
    name: 'å•†å“æ°¨é‡',
    points: DATES_OUTPUT.map((date, i) => ({
      date,
      value: +(27.5 + Math.sin(i / 3) * 2.2 + Math.cos(i / 5) * 0.8).toFixed(2),
    })),
  },
  {
    name: 'å°¿ç´ å‘¨äº§é‡',
    points: DATES_OUTPUT.map((date, i) => ({
      date,
      value: +(136 + Math.sin(i / 3) * 4.5 + Math.cos(i / 6) * 2.0).toFixed(2),
    })),
  },
];

/** ============ æ–°å¢ï¼šè¡¨æ ¼å››å‘¨åŒºé—´å…ƒæ•°æ® + ä¸¤è¡Œæ•°æ® ============ */
export const WEEKS_OUTPUT = [
  { key: 'w29', title: 'ç¬¬29å‘¨', range: '7/11-7/17' },
  { key: 'w30', title: 'ç¬¬30å‘¨', range: '7/18-7/24' },
  { key: 'w31', title: 'ç¬¬31å‘¨', range: '7/25-7/31' },
  { key: 'w32', title: 'ç¬¬32å‘¨', range: '8/1-8/7' },
] as const;

/** è¡¨æ ¼ä¸¤è¡Œï¼šç¬¬ä¸€è¡Œâ€œå•†å“æ°¨é‡â€çš„æœ€è¿‘ 4 å‘¨å€¼ï¼›ç¬¬äºŒè¡Œâ€œå°¿ç´ å‘¨äº§é‡â€çš„æœ€è¿‘ 4 å‘¨å€¼ */
export const OUTPUT_TABLE = [
  {
    key: 'row-goods',
    æ—¥æœŸ: '2025/8/1',
    w29: 24.46,
    w30: 24.02,
    w31: 24.61,
    w32: 23.09,
  },
  {
    key: 'row-urea',
    æ—¥æœŸ: '2025/8/2',
    w29: 138.48,
    w30: 135.98,
    w31: 135.95,
    w32: 133.01,
  },
];

// ğŸ‘‰ æ–°å¢ï¼šTrend ç”¨çš„å›½é™…æŠ¥ä»·æ›²çº¿ï¼ˆä¸­ä¸œFOB / å°åº¦CFR / å¦å¸•CFR / ä¸­å›½CFRï¼‰
export const PRICE_SERIES_NH3_INTL: LineSeries[] = ['ä¸­ä¸œFOB', 'å°åº¦CFR', 'å¦å¸•CFR', 'ä¸­å›½CFR'].map(
  (name, idx) => ({
    name,
    points: DATES.map((d, i) => ({
      date: d,
      // å ä½æ³¢åŠ¨ï¼Œæ¥å…¥çœŸå®æ•°æ®æ—¶æ›¿æ¢
      value: 300 + idx * 40 + Math.sin(i / 1.2 + idx) * 35 + (i % 3) * 6,
    })),
  }),
);
// ==== äº‘è´µç”µå‚æƒ…å†µ ====

export const DATES_YG: string[] = makeDates(8, 10); // ä¸å…¶å®ƒå›¾ä¿æŒä¸€è‡´çš„æ—¥æœŸç”Ÿæˆ

// å››æ¡ï¼šäº‘/è´µåº“å­˜ï¼ˆå·¦è½´é¢ç§¯ï¼Œåšå †å ï¼‰ï¼›äº‘/è´µå¼€æœºç‡ï¼ˆå³è½´æŠ˜çº¿ï¼Œ%ï¼‰
export const SERIES_YG: LineSeries[] = [
  {
    name: 'äº‘å—ç”µå‚åº“å­˜',
    points: DATES_YG.map((d, i) => ({
      date: d,
      value: 1100 + Math.sin(i / 1.8) * 120 + (i % 4) * 30, // å ä½æ³¢åŠ¨
    })),
  },
  {
    name: 'è´µå·ç”µå‚åº“å­˜',
    points: DATES_YG.map((d, i) => ({
      date: d,
      value: 450 + Math.cos(i / 2.2) * 90 + (i % 5) * 22, // å ä½æ³¢åŠ¨
    })),
  },
  {
    name: 'äº‘å—ç”µå‚å¼€æœºç‡ï¼ˆ%ï¼‰',
    points: DATES_YG.map((d, i) => ({
      date: d,
      value: +(20 + 6 * Math.sin(i / 2) + (i % 6)).toFixed(2),
    })),
  },
  {
    name: 'è´µå·ç”µå‚å¼€æœºç‡ï¼ˆ%ï¼‰',
    points: DATES_YG.map((d, i) => ({
      date: d,
      value: +(35 + 5 * Math.cos(i / 2.3) + (i % 7) * 0.3).toFixed(2),
    })),
  },
];

// é¡¶éƒ¨ä¸¤æšèƒ¶å›Šï¼šå‘¨ç¯æ¯”ï¼ˆæ€»åº“å­˜ã€å¼€æœºç‡ï¼‰ã€‚å¼€æœºç‡ä¸º 0 æ—¶æ˜¾ç¤º 'â€”'
export const STATS_YG_SUMMARY = {
  invWow: 3.6, // +3.6
  utilWow: 0, // æ˜¾ç¤º 'â€”'
};

// åº•éƒ¨å››å¼ å¡
export const STATS_YG_LAST = {
  gzInvLast: 1346.87,
  gzRunLast: 58.6,
  ynInvLast: 433.04,
  ynRunLast: 38.46,
};

/** æ—§çš„ç…¤ç‚­ç³»åˆ—ï¼ˆè‹¥å…¶å®ƒé¡µé¢ä»åœ¨ç”¨ï¼Œä¿ç•™ä¸º COALï¼›ä¸å½±å“æœ¬é¡µï¼‰ */
export const PRICE_SERIES_COAL: LineSeries[] = [
  'å…¨å›½åŠ¨åŠ›ç…¤å‡ä»·ï¼ˆQ5500ï¼‰',
  'å…¨å›½æ— çƒŸç…¤å‡ä»·',
  'æ¦†æ—åŠ¨åŠ›å—ç…¤ï¼ˆQ6000ï¼‰',
  'ç¥æœ¨çƒŸç…¤å—ï¼ˆQ6500ï¼‰',
  'ç§¦çš‡å²›åŠ¨åŠ›ç…¤ï¼ˆå±±è¥¿Q5500ï¼‰',
].map((name, idx) => ({
  name,
  points: DATES.map((d, i) => ({
    date: d,
    value: 520 + idx * 35 + Math.sin(i / 1.3 + idx) * 60 + (i % 3) * 9,
  })),
}));

/** â• æ–°å¢ï¼šåˆæˆæ°¨ / å°¿ç´  å››æ¡ç³»åˆ—ï¼Œä¾› Price(NH3) ä½¿ç”¨ */
export const PRICE_SERIES_NH3: LineSeries[] = [
  'å…¨å›½åˆæˆæ°¨ä»·æ ¼',
  'æ¹–åŒ—åˆæˆæ°¨å‡ä»·',
  'è¥¿å—åˆæˆæ°¨å‡ä»·',
  'å…¨å›½å°¿ç´ å‡ºå‚å‡ä»·',
].map((name, idx) => ({
  name,
  points: DATES.map((d, i) => ({
    date: d,
    // éšæœºæ³¢åŠ¨å ä½ï¼šä½ æ¥å…¥çœŸå®æ•°æ®æ—¶æ›¿æ¢è¿™é‡Œ
    value: 1200 + idx * 50 + Math.sin(i / 1.1 + idx) * 80 + (i % 4) * 6,
  })),
}));

/** å…¶å®ƒæ•°æ®ï¼ˆä¿æŒä¸å˜ï¼‰ */
export const INVENTORY_STACK: InventoryRow[] = [
  'ç§¦çš‡å²›æ¸¯',
  'åèƒ½æ›¹å¦ƒç”¸æ¸¯',
  'åç”µæ›¹å¦ƒç”¸æ¸¯',
  'æ›¹å¦ƒç”¸æ¸¯',
  'æ›¹å¦ƒç”¸äºŒæœŸ',
  'å›½æŠ•äº¬å”æ¸¯',
  'äº¬å”è€æ¸¯',
  'äº¬å”36-40æ¸¯',
].map((name, idx) => ({
  name,
  values: DATES.map((_, i) => 300 + Math.max(0, 120 * Math.sin((i + idx) / 1.8) + 160 + idx * 18)),
}));

export const INVENTORY_MOBLE_STACK: InventoryRow[] = ['ç§¦çš‡å²›æ¸¯', 'åèƒ½æ›¹å¦ƒç”¸æ¸¯', 'æ›¹å¦ƒç”¸æ¸¯'].map(
  (name, idx) => ({
    name,
    values: DATES.map(
      (_, i) => 300 + Math.max(0, 120 * Math.sin((i + idx) / 1.8) + 160 + idx * 18),
    ),
  }),
);

export const PRODUCTION_VALUES = DATES.map((_, i) => 1300 + Math.abs(Math.sin(i / 1.5)) * 950);
export const PRODUCTION_AVG_7D = PRODUCTION_VALUES.map((_, i, arr) => {
  const s = Math.max(0, i - 6);
  const seg = arr.slice(s, i + 1);
  return seg.reduce((a, b) => a + b, 0) / seg.length;
});
