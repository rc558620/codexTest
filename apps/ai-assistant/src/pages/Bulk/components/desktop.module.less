@import '../theme.less';
.page {
  // background: @sky-25;
  box-sizing: border-box;
  // background: linear-gradient(180deg, #c7ebfb 0%, #f4f9ff 100%);
  background: #dbeef7;
  &__inner {
    // max-width: 1280px;
    margin: 0 auto;
    display: grid;
    gap: 16px;
    box-sizing: border-box;
    padding: 16px;
  }
  &__top {
    display: flex;
    justify-content: center;
    align-items: center;
    box-sizing: border-box;
    height: 112px;
    background: url('@/assets/images/pcTop@2x.png') no-repeat top center / 100% 100%;
  }
}

.header {
  position: relative;
  overflow: hidden;
  border-radius: 12px;
  background: linear-gradient(180deg, fade(@sky-600, 96%), fade(@sky-500, 92%));
  color: @white;
  padding: 20px 20px 12px;
  box-shadow: 0 8px 24px fade(@sky-600, 15%);
  &__bg {
    position: absolute;
    inset: 0;
    opacity: 0.2;
    background:
      radial-gradient(1200px 160px at 50% 0, fade(#fff, 18%), transparent),
      repeating-linear-gradient(to right, fade(#fff, 8%) 0 2px, transparent 2px 6px);
  }
  &__title {
    position: relative;
    font:
      800 22px/1 'Inter',
      system-ui;
    letter-spacing: 0.06em;
    margin: 0 0 6px;
  }
  &__sub {
    position: relative;
    opacity: 0.9;
    font-size: 12px;
    margin: 0 0 8px;
  }
}

.category {
  position: relative;
  display: flex;
  gap: 8px;
  &__btn {
    padding: 6px 12px;
    border-radius: 999px;
    border: 1px solid fade(@white, 35%);
    background: fade(@white, 10%);
    color: @white;
    font-size: 12px;
    cursor: pointer;
    &:hover {
      background: fade(@white, 18%);
    }
    &--active {
      background: @white;
      color: @sky-600;
    }
  }
}

.grid {
  display: grid;
  gap: 16px;
  &--1 {
    grid-template-columns: 1fr;
  }
  &--2 {
    // grid-template-columns: 1fr;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    // @media (min-width: 1260px) {
    //   grid-template-columns: 1fr 1fr;
    // }
  }
}
.grid--2 > * {
  min-width: 0; /* 解决“右边把左边顶小”的根因 */
}
.card {
  background: transparent;
  box-shadow: 0px 4 18px 1px rgba(0, 127, 186, 0.24);
  border: 1px solid #ffffff;
  border-radius: 12px;
  position: relative;
  box-sizing: border-box;
  padding: 16px;
  &--overview {
    padding: 14px;
  }
  &--panel {
  }
  &--wide {
  }
  &--analysis {
  }
  &__head {
    display: flex;
    align-items: center;
    justify-content: space-between;
    box-sizing: border-box;
    padding: 0 0 11px 0;
    margin-top: -5px;
    .content_ai_right {
      color: #007fba;
      font-size: 14px;
    }
  }
  &__box {
    padding: 12px;
    position: relative;
    background: #fff;
    border-radius: 8px;
    overflow: hidden; /* 阻止内部内容把卡片撑出 grid 轨道 */
  }
  &__box__flex {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    flex: 1 1 auto;
  }
  &__title {
    color: @slate-800;
    font-weight: 600;
    margin: 0;
  }
  &__meta {
    color: @slate-500;
    font-size: 14px;
    display: flex;
    align-items: center;
    .card__meta_item {
      display: flex;
      align-items: center;
      .unit {
        margin-right: 18px;
        color: #007fba;
      }
    }
  }
}

.hero {
  background: linear-gradient(180deg, #ffffff 0%, #eef9ff 100%);
  border-radius: 8px 8px 8px 8px;
  box-shadow: 0 4px 16px fade(@sky-600, 6%);
  &__head {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 6px;
  }
  .hero__title {
    position: relative;
    display: inline-block;

    &::after {
      content: '';
      position: absolute;
      left: 0;
      bottom: 2px; // 线条距离文字的间距
      height: 4px; // 线条粗细
      width: 100%; // 可按需改：固定宽度或百分比
      border-radius: 4px;
      background: linear-gradient(90deg, #007fba 0%, rgba(0, 127, 186, 0) 100%);
      pointer-events: none;
    }
  }
  &__dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: @sky-400;
    box-shadow: 0 0 0 2px fade(@sky-400, 25%);
  }
  &__title {
    margin: 0;
    color: @slate-800;
    font-weight: 500;
    font-size: 18px;
  }
  &__body {
    display: grid;
    grid-template-columns: 96px 1fr;
    gap: 12px;
    align-items: center;
    margin-top: 12px;
  }
  &__left {
    width: 96px;
    height: 96px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #eff6ff;
    border-radius: 12px;
    border: 1px solid @sky-50;
  }
  &__right {
  }
  &__list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
  &__item {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    row-gap: 4px;
    color: @slate-700;
    font-size: 14px;
    line-height: 1.9;
  }
  &__dash {
    margin-right: 8px;
    font-weight: 700;
    width: 6px;
    height: 3px;
    background-color: @sky-600;
  }
  &__key {
    color: @slate-800;
    font-weight: 500;
    margin-right: 16px;
    font-size: 20px;
  }
  &__text {
    color: @slate-700;
    font-size: 16px;
  }
  &__unit {
    color: @slate-600;
  }
  &__token {
    font-weight: 700;
    margin: 0 2px;
    &--num {
      color: @sky-600;
      font-size: 20px;
    }
    &--up {
      color: @success;
      font-size: 20px;
    }
    &--down {
      color: @danger;
      font-size: 20px;
    }
  }
  &__square {
    width: 8px;
    height: 8px;
    display: inline-block;
    border-radius: 2px;
    margin: 0 6px;
    vertical-align: middle;
    &--up {
      background: fade(@success, 90%);
    }
    &--down {
      background: fade(@danger, 90%);
    }
  }
}

.bullet-list {
  margin: 0;
  padding: 0;
  list-style: none;
}
.bullet {
  display: flex;
  align-items: center;
  gap: 8px;
  line-height: 1.8;
  &__dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: @sky-400;
  }
  &__text {
    color: @slate-700;
    font-size: 13px;
  }
  &__value {
    color: @slate-800;
    font-weight: 600;
    font-size: 13px;
    margin-left: 4px;
    &--up {
      color: @success;
    }
    &--down {
      color: @danger;
    }
  }
}

/* 指标胶囊 */
.pill-row {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  position: relative;
  top: 7px;
  .pill-col {
    position: absolute;
    display: flex;
    flex-wrap: wrap;
    gap: 16px;
  }
}
.pill {
  display: inline-flex;
  align-items: center;
  gap: 16px;
  border-radius: 8px;
  padding: 10px;
  background: @sky-50;
  &__box {
    display: flex;
    align-items: baseline;
    justify-content: space-between;
    gap: 12px;
  }
  &__center {
    display: flex;
    align-items: center;
  }
  &__subText {
    display: flex;
    align-items: baseline;
    gap: 6px;
  }
  &__label {
    color: #86909c;
    font-size: 14px;
    font-weight: 500;
    margin-right: 8px;
  }
  &__value {
    color: @slate-800;
    font-weight: 600;
    font-size: 18px;
  }
  &--up {
  }
  &--down {
  }
}

/* 关键值栅格（卡片底部的小表） */
.kv-grid {
  margin-top: 10px;
  display: grid;
  gap: 8px 12px;
  &--4 {
    grid-template-columns: repeat(2, 1fr);
    @media (min-width: 768px) {
      grid-template-columns: repeat(4, 1fr);
    }
  }
  &__row {
    display: flex;
    justify-content: space-between;
    font-size: 12px;
    color: @slate-600;
  }
  &__val {
    font-weight: 600;
    color: @slate-900;
  }
}

.delta {
  font-size: 12px;
  &--up {
    color: @danger;
  }
  &--down {
    color: @success;
  }
  &--flat {
    color: @sky-600;
    font-weight: 500;
  }
}

.footer {
  text-align: center;
  color: @slate-500;
  font-size: 11px;
  margin: 4px 0 18px;
}
.icon-fullscreen {
  color: @sky-600;
  font-weight: bold;
  cursor: pointer;
  font-size: 16px;
}

.summary-cell-hb-bg {
  // background-color: #e4f3f8 !important;
  background: #f7fbfd !important;
  .hb_color {
    color: @sky-600 !important;
    font-weight: bold;
    font-size: 12px;
  }
}
/* Analysis */
.card--analysis {
  padding: 14px 14px 18px;
}

.analysis {
  position: relative;
  padding: 14px 16px 12px;
}

/* 简评行 */
.analysis__brief {
  position: relative;
  padding: 6px 0 12px;
  /* 14px 高的渐变底纹（在简评行底部，左浅右深） */
  &::after {
    content: '';
    position: absolute;
    left: 0px;
    bottom: 12px;
    height: 14px;
    width: clamp(160px, 38%, 420px); /* 可按视觉微调 */
    background: linear-gradient(270deg, rgba(193, 229, 241, 0) 0%, #c1e5f1 100%);
    border-radius: 2px;
    pointer-events: none;
    z-index: 0;
  }
  /* 确保文字在底纹之上 */
  > * {
    position: relative;
    z-index: 1;
  }
}
.analysis__brief-label {
  font-weight: 500;
  font-size: 20px;
  color: #007fba;
  margin-left: 10px;
}
.analysis__brief-text {
  font-size: 20px;
  color: #007fba; /* 与图中蓝色接近 */
}

/* 分段与编号 */
.analysis__section {
  margin-top: 14px;
}
.analysis__sec-title {
  color: @slate-800;
  font-weight: 600;
  margin-bottom: 6px;
  display: flex;
  align-items: center;
  gap: 6px;
}
.analysis__num {
  font-family: 'PingFang SC', 'Microsoft YaHei', system-ui;
  color: @slate-700;
  font-weight: 600;
  margin-right: 4px;
}
.analysis__para {
  margin: 0;
  color: @slate-700;
  line-height: 1.9;
  font-size: 14px;
}

.nh3_price {
  height: 250px;
}
.nh3_output {
  height: 275px;
}

.yg-panel {
  display: flex;
  flex-direction: column;
  .yg-chips {
    display: flex;
    gap: 16px;
    justify-content: flex-end;
    margin-bottom: 8px;
    position: absolute;
    right: 16px;
    top: 16px;
  }

  .yg-chip {
    background: #f5f7fa;
    border-radius: 12px;
    padding: 10px 16px;
    display: inline-flex;
    align-items: baseline;
    gap: 10px;
    font-size: 14px;

    &__label {
      color: #1d2129;
      font-weight: 500;
      font-size: 14px;
    }
    &__value {
      color: #64748b; /* 默认 */
      font-size: 18px;
      font-weight: 600;
    }

    /* 趋势色（用于“总库存周环比”）*/
    &--up .yg-chip__value {
      color: #00b42a;
    }
    &--down .yg-chip__value {
      color: #f53f3f;
    }
    &--flat .yg-chip__value {
      color: #64748b;
    }
    &--inv {
      background: #e5f7e9;
    }
    /* 特定胶囊：火电开机率周环比 指定背景色 */
    &--util {
      background: #e5f2f8;
    }
  }

  /* 统计卡片区 */
  .yg-stats {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 16px;
    margin-top: 12px;
  }

  .yg-card {
    border-radius: 12px;
    padding: 16px;
    background: #f4f8ff;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    &__label {
      color: #86909c;
      margin-bottom: 6px;
      text-align: center;
      font-size: 14px;
      display: flex;
      align-items: center;
      .iconYgInv {
        width: 20px;
        height: 20px;
        margin-right: 12px;
      }
    }
    &__value {
      color: #0f172a;
      font-size: 24px;
      font-weight: 500;
      color: #007fba;
      text-align: center;

      &--blue {
        color: #007fba; /* 上周贵州库存数值颜色 */
      }
    }
  }

  /* 上周贵州库存卡片：指定背景 */
  .yg-card--gzInv {
    background: #e5f2f8;
  }
}

.yg-chip__value.is-empty {
  color: #007fba !important; /* 没有值时的 “—” 颜色 */
}

.index_tab_icon {
  width: 16px;
  height: 16px;
  position: relative;
}
.index_tab_icon_nh3 {
  top: 1px;
}
.desktopMarketPriceAnalysis {
  border: 1px solid #fff;
  border-radius: 12px;
  box-shadow: 0px 4 18px 1px rgba(0, 127, 186, 0.24);
}
.panel-unit {
  margin-right: 29px !important;
}

.bulk_loading {
  display: flex;
  height: 100vh;
  align-items: center;
  justify-content: center;
  position: absolute;
  top: 0;
  left: 0;
  width: 100vw;
}
/* 你自定义的表头结构：.th-wrap -> .th-main + .th-badge */
.th-wrap {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
}

.th-main {
  /* 允许换行并做两行截断，避免撑宽 */
  white-space: normal;
  display: -webkit-box;
  -webkit-line-clamp: 2; /* 最多两行 */
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-height: 1.2;
  text-align: center;
  max-width: 100%;
}

.th-badge {
  // font-size: 10px;
  // opacity: 0.75;
}

/* AntD 表格（紧凑 + 高还原） */
.table {
  margin-top: 10px;
}

/* 注意：所有 AntD 内部类，用 :global() 包起来 */
.table--compact {
  :global(.ant-table) {
    font-size: 12px;
  }
  :global(.ant-table-thead > tr > th) {
    background: #f8fbff;
    color: @slate-700; /* @slate-700 的近似值 */
    font-weight: 600;
    font-size: 12px;
  }
  :global(.ant-table-tbody > tr > td) {
    padding: 6px 8px;
    font-size: 12px;
  }
}

/* 隐藏横向滚动条，但保留滚动能力 */
.table--hide-xbar {
  :global(.ant-table-container) {
    /* 这几层都可能出现横向滚动，统一处理 */
    :global(.ant-table-content),
    :global(.ant-table-body),
    :global(.ant-table-header) {
      overflow-x: auto; /* 保留滚动 */
      -ms-overflow-style: none; /* IE/Edge */
      scrollbar-width: none; /* Firefox */
    }

    /* WebKit 系列（Chrome/Safari/Edge） */
    :global(.ant-table-content::-webkit-scrollbar),
    :global(.ant-table-body::-webkit-scrollbar),
    :global(.ant-table-header::-webkit-scrollbar) {
      width: 0;
      height: 0;
      display: none;
      background: transparent;
    }
  }
}
